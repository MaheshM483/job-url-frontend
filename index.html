<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Job URL - Direct Career Links</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* keep your full original styles here */
</style>
</head>
<body>
<div class="container">
<header>
<div class="logo"><i class="fas fa-link"></i><h1>Job URL</h1></div>
<p class="tagline">Direct links to company career pages. No sign-up required. Always free.</p>
</header>

<section class="search-section">
<h2 class="section-title"><i class="fas fa-search"></i> Find Your Dream Job</h2>
<div class="info-box">
<p><i class="fas fa-info-circle"></i> Enter any company name and job title to get live job posting URLs.</p>
</div>

<form class="search-form" id="searchForm">
<div class="form-group">
<label for="company">Company Name</label>
<input type="text" id="company" class="form-control" placeholder="e.g. Apple, Google" required>
</div>
<div class="form-group">
<label for="jobTitle">Job Title</label>
<input type="text" id="jobTitle" class="form-control" placeholder="e.g. Data Analyst" required>
</div>
</form>

<div class="actions">
<button class="btn btn-primary" id="searchBtn"><i class="fas fa-search"></i>&nbsp; Search Jobs</button>
</div>
</section>

<section class="results-section">
<div class="results-header">
<h2 class="section-title"><i class="fas fa-briefcase"></i> Results</h2>
<span class="results-count" id="resultsCount">0 jobs found</span>
</div>
<div class="results-grid" id="resultsGrid">
<!-- Job cards will appear here -->
</div>
</section>

<footer>
&copy; 2025 Job URL | Built with ❤️ for job seekers
</footer>
</div>

<script>
const searchBtn = document.getElementById('searchBtn');
const resultsGrid = document.getElementById('resultsGrid');
const resultsCount = document.getElementById('resultsCount');
const API_URL = "https://job-url-backend.onrender.com/api/jobs"; // replace with your deployed backend

async function searchJobs() {
  const company = document.getElementById('company').value.trim();
  const jobTitle = document.getElementById('jobTitle').value.trim();

  if (!company || !jobTitle) {
    alert("Please fill in company and job title.");
    return;
  }

  resultsGrid.innerHTML = `<div class="loading"><div class="spinner"></div>Searching...</div>`;
  resultsCount.textContent = "Searching...";

  try {
    const res = await fetch(`${API_URL}?company=${encodeURIComponent(company)}&title=${encodeURIComponent(jobTitle)}`);
    const data = await res.json();

    if (!data.jobs || data.jobs.length === 0) {
      resultsGrid.innerHTML = `<div class="no-results"><i class="fas fa-exclamation-triangle"></i><p>No jobs found.</p></div>`;
      resultsCount.textContent = "0 jobs found";
      return;
    }

    resultsGrid.innerHTML = "";
    data.jobs.forEach(job => {
      const card = document.createElement('div');
      card.classList.add('job-card');
      card.innerHTML = `
      <div class="job-header">
        <span class="company-name">${job.company}</span>
        <span class="job-type">${job.type || 'N/A'}</span>
      </div>
      <div class="job-title">${job.title}</div>
      <div class="job-details">
        <div class="job-detail"><i class="fas fa-map-marker-alt"></i>${job.location}</div>
        <div class="job-detail"><i class="fas fa-calendar-alt"></i>${job.posted}</div>
      </div>
      <a href="${job.url}" target="_blank" class="job-url">Apply Now</a>`;
      resultsGrid.appendChild(card);
    });

    resultsCount.textContent = `${data.jobs.length} job(s) found`;

  } catch (err) {
    console.error(err);
    resultsGrid.innerHTML = `<div class="no-results"><i class="fas fa-exclamation-triangle"></i><p>Error fetching jobs. Try again later.</p></div>`;
    resultsCount.textContent = "0 jobs found";
  }
}

searchBtn.addEventListener('click', searchJobs);
</script>
</body>
</html>
